<html>
<head>
<script type='text/javascript'>
//Define Input
var income = 250000;
var superAnnuationPercentage = 9.25;
var superAnnuationTaxRate = 15;


//Defines the tax brackets
var taxBracket = [
    {from: 0, to: 18200, percentage: 0, amount: 0},
    {from: 18201, to: 37000, percentage: 19, over: 18200, amount: 0},
    {from: 37001, to: 80000, percentage: 32.5, over: 37000, amount: 3752},
    {from: 80001, to: 180000, percentage: 37, over: 80000, amount: 17547},
    {from: 180001, to: Infinity, percentage: 45, over: 180000, amount: 54547}
];
//Defines tax brackets for non residents 
var nonResidentTaxBracket =[


];

var medicareLevy = [
	{from:0, to: 88000, percentage: 0},
	{from:88001, to: 102000, percentage:1},
	{from:102001, to: 136000, percentage:1.25},
	{from:136001, to: Infinity, percentage:1.5},

];

//Defines studentFinancialSupplement repayment brackets
var studentFinancialSupplement = [

];

//Defines HECS/HELP repayment brackets
var hecsHelp = [
{from:0, 	 to:53345, percentage:4},
{from:53344, to:59421, percentage:4},
{from:59422, to:65497, percentage:4.5},
{from:65498, to:68939, percentage:5.0},
{from:68940, to:74105, percentage:5.5},
{from:74106, to:80527, percentage:6.0},
{from:80258, to:84481, percentage:6.5},
{from:84482, to:92970, percentage:7.0},
{from:99070, to:99069, percentage:7.5},
{from:99070, to:Infinity, percentage:8.0},
];

//Calculates superannuation based on a percentage provided in global variable
//iniated by variable gross income
var superannuationCalc = function (int) {
	var percent = superAnnuationPercentage/100;
	return  int * percent;
};

//define gross income
var grossIncome = income - superannuationCalc(income);

//working out total tax
var totalTax = taxCalc(grossIncome) + superannuationTaxCalc(superannuationCalc(income),superAnnuationTaxRate);
console.log(totalTax) + hecsHelpCalc(income);;

//Loops through taxBracket object and finds the tax bracket for the post deduction gross income amount
function taxCalc(grossSuperIncome){
    for(var x = 0; x < taxBracket.length; x++){
        if(grossSuperIncome <= taxBracket[x].to){
            var amountOver = grossSuperIncome - taxBracket[x].over;
            var percent = taxBracket[x].percentage / 100;
            return taxBracket[x].amount + (amountOver * percent);

        }

    };
};

//calculates super tax amount by usuing superTaxRate and superAnnuation Variables. pass from total tax calculation
function superannuationTaxCalc(superAmount,superTaxRate){
	var percent = superTaxRate / 100;
	return superAmount * percent;
};

//calculates Hecs based
function hecsHelpCalc(hecsIncome){
		for (var x =0; x < hecsHelp.length; x++){
			if(hecsIncome <= hecsHelp[x].to){
			var percentage = hecsHelp[x].percentage / 100;
			return hecsIncome * percentage;
			}
		};
};

//testing functions





</script>
</head>
<body>
<p>test</p>

</body>
</html>

